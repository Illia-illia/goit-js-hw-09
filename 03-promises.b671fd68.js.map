{"mappings":"oeAOA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,QAASC,SAASC,cAAc,uBAChCC,OAAQF,SAASC,cAAc,sBAC/BE,SAAUH,SAASC,cAAc,wBACjCG,KAAMJ,SAASC,cAAc,UAmC/B,SAASI,EAAcC,EAAUC,GACTC,KAAKC,SAAW,GAGpCb,EAAAc,OAAOC,QAAQ,uBAAqBL,QAAiBC,OAGrDX,EAAAc,OAAOE,QAAQ,sBAAoBN,QAAeC,OAvCtDT,EAAKM,KAAKS,iBAAiB,UAE3B,SAAoBC,GAClBA,EAAEC,iBAEF,IAAIC,EAAW,EACXT,EAAQU,OAAOnB,EAAKC,QAAQmB,OAChC,MAAMC,EAAOF,OAAOnB,EAAKI,OAAOgB,OAC1BE,EAASH,OAAOnB,EAAKK,SAASe,OAEpC,GAAa,IAATC,EACFE,YAAW,KACT,MAAMC,EAAaC,aAAY,KAG7B,GAFAP,GAAY,EACZX,EAAcW,EAAUT,GACpBa,IAAWJ,EACb,OAAOQ,cAAcF,KAEtB,KACFf,OACE,CACL,MAAMe,EAAaC,aAAY,KAI7B,GAHAP,GAAY,EACZX,EAAcW,EAAUT,GACxBA,GAASY,EACLC,IAAWJ,EACb,OAAOQ,cAAcF,KAEtBf","sources":["src/js/03-promises.js"],"sourcesContent":["// 1 HTML містить розмітку форми, в поля якої користувач буде вводити першу затримку в мілісекундах,\n// крок збільшення затримки для кожного промісу після першого і кількість промісів, яку необхідно створити.\n\n// 2 Напиши скрипт, який на момент сабміту форми викликає функцію createPromise(position, delay) стільки разів,\n//   скільки ввели в поле amount.Під час кожного виклику передай їй номер промісу(position), що створюється,\n//     і затримку, враховуючи першу затримку(delay), введену користувачем, і крок(step).\n\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  delayEl: document.querySelector('input[name=\"delay\"]'),\n  stepEl: document.querySelector('input[name=\"step\"]'),\n  amountEl: document.querySelector('input[name=\"amount\"]'),\n  form: document.querySelector('.form'),\n};\n\nrefs.form.addEventListener('submit', onBtnClick);\n\nfunction onBtnClick(e) {\n  e.preventDefault();\n\n  let iterator = 0;\n  let delay = Number(refs.delayEl.value);\n  const step = Number(refs.stepEl.value);\n  const amount = Number(refs.amountEl.value);\n\n  if (step === 0) {\n    setTimeout(() => {\n      const intervalID = setInterval(() => {\n        iterator += 1;\n        createPromise(iterator, delay);\n        if (amount === iterator) {\n          return clearInterval(intervalID);\n        }\n      }, 0);\n    }, delay);\n  } else {\n    const intervalID = setInterval(() => {\n      iterator += 1;\n      createPromise(iterator, delay);\n      delay += step;\n      if (amount === iterator) {\n        return clearInterval(intervalID);\n      }\n    }, delay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    // Fulfill\n    Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    // Reject\n    Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  }\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","delayEl","document","querySelector","stepEl","amountEl","form","$47d4ff9957288465$var$createPromise","position","delay","Math","random","Notify","success","failure","addEventListener","e","preventDefault","iterator","Number","value","step","amount","setTimeout","intervalID","setInterval","clearInterval"],"version":3,"file":"03-promises.b671fd68.js.map"}