{"mappings":"oeAOA,IAAAA,EAAAC,EAAA,SAyCA,SAASC,EAAcC,EAAUC,GACTC,KAAKC,SAAW,GAGpCN,EAAAO,OAAOC,QAAQ,uBAAqBL,QAAiBC,OAGrDJ,EAAAO,OAAOE,QAAQ,sBAAoBN,QAAeC,OA9CtDM,KAAO,CACLC,QAASC,SAASC,cAAc,uBAChCC,OAAQF,SAASC,cAAc,sBAC/BE,SAAUH,SAASC,cAAc,wBACjCG,KAAMJ,SAASC,cAAc,UAG/BH,KAAKM,KAAKC,iBAAiB,UAE3B,SAAoBC,GAClBA,EAAEC,iBAEF,IAAIC,EAAW,EACXhB,EAAQiB,OAAOX,KAAKC,QAAQW,OAChC,MAAMC,EAAOF,OAAOX,KAAKI,OAAOQ,OAC1BE,EAASH,OAAOX,KAAKK,SAASO,OAEpC,GAAa,IAATC,EACFE,YAAW,KACT,MAAMC,EAAaC,aAAY,KAG7B,GAFAP,GAAY,EACZlB,EAAckB,EAAUhB,GACpBoB,IAAWJ,EACb,OAAOQ,cAAcF,KAEtB,KACFtB,OACE,CACL,MAAMsB,EAAaC,aAAY,KAI7B,GAHAP,GAAY,EACZlB,EAAckB,EAAUhB,GACxBA,GAASmB,EACLC,IAAWJ,EACb,OAAOQ,cAAcF,KAEtBtB","sources":["src/js/03-promises.js"],"sourcesContent":["// 1 HTML містить розмітку форми, в поля якої користувач буде вводити першу затримку в мілісекундах,\n// крок збільшення затримки для кожного промісу після першого і кількість промісів, яку необхідно створити.\n\n// 2 Напиши скрипт, який на момент сабміту форми викликає функцію createPromise(position, delay) стільки разів,\n//   скільки ввели в поле amount.Під час кожного виклику передай їй номер промісу(position), що створюється,\n//     і затримку, враховуючи першу затримку(delay), введену користувачем, і крок(step).\n\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nrefs = {\n  delayEl: document.querySelector('input[name=\"delay\"]'),\n  stepEl: document.querySelector('input[name=\"step\"]'),\n  amountEl: document.querySelector('input[name=\"amount\"]'),\n  form: document.querySelector('.form'),\n};\n\nrefs.form.addEventListener('submit', onBtnClick);\n\nfunction onBtnClick(e) {\n  e.preventDefault();\n\n  let iterator = 0;\n  let delay = Number(refs.delayEl.value);\n  const step = Number(refs.stepEl.value);\n  const amount = Number(refs.amountEl.value);\n\n  if (step === 0) {\n    setTimeout(() => {\n      const intervalID = setInterval(() => {\n        iterator += 1;\n        createPromise(iterator, delay);\n        if (amount === iterator) {\n          return clearInterval(intervalID);\n        }\n      }, 0);\n    }, delay);\n  } else {\n    const intervalID = setInterval(() => {\n      iterator += 1;\n      createPromise(iterator, delay);\n      delay += step;\n      if (amount === iterator) {\n        return clearInterval(intervalID);\n      }\n    }, delay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    // Fulfill\n    Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    // Reject\n    Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  }\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","Math","random","Notify","success","failure","refs","delayEl","document","querySelector","stepEl","amountEl","form","addEventListener","e","preventDefault","iterator","Number","value","step","amount","setTimeout","intervalID","setInterval","clearInterval"],"version":3,"file":"03-promises.46cab539.js.map"}